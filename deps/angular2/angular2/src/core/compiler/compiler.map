{"version":3,"sources":["@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/15","compiler.js","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/164"],"names":[],"mappings":"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","file":"/Users/patrick/Documents/open source/angular/modules/angular2/src/core/compiler/compiler.js","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/angular2/src/core/compiler/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","import {Type, isBlank, isPresent, BaseException, normalizeBlank, stringify} from 'angular2/src/facade/lang';\nimport {Promise, PromiseWrapper} from 'angular2/src/facade/async';\nimport {List, ListWrapper, Map, MapWrapper} from 'angular2/src/facade/collection';\nimport {DOM, Element} from 'angular2/src/facade/dom';\n\nimport {ChangeDetection, Parser} from 'angular2/change_detection';\n\nimport {DirectiveMetadataReader} from './directive_metadata_reader';\nimport {ProtoView} from './view';\nimport {CompilePipeline} from './pipeline/compile_pipeline';\nimport {CompileElement} from './pipeline/compile_element';\nimport {createDefaultSteps} from './pipeline/default_steps';\nimport {TemplateLoader} from './template_loader';\nimport {DirectiveMetadata} from './directive_metadata';\nimport {Component} from '../annotations/annotations';\nimport {Content} from './shadow_dom_emulation/content_tag';\nimport {ShadowDomStrategy} from './shadow_dom_strategy';\nimport {CompileStep} from './pipeline/compile_step';\n\n/**\n * Cache that stores the ProtoView of the template of a component.\n * Used to prevent duplicate work and resolve cyclic dependencies.\n */\nexport class CompilerCache {\n  _cache:Map;\n  constructor() {\n    this._cache = MapWrapper.create();\n  }\n\n  set(component:Type, protoView:ProtoView) {\n    MapWrapper.set(this._cache, component, protoView);\n  }\n\n  get(component:Type):ProtoView {\n    var result = MapWrapper.get(this._cache, component);\n    return normalizeBlank(result);\n  }\n\n  clear() {\n    MapWrapper.clear(this._cache);\n  }\n}\n\n/**\n * The compiler loads and translates the html templates of components into\n * nested ProtoViews. To decompose its functionality it uses\n * the CompilePipeline and the CompileSteps.\n */\nexport class Compiler {\n  _reader: DirectiveMetadataReader;\n  _parser:Parser;\n  _compilerCache:CompilerCache;\n  _changeDetection:ChangeDetection;\n  _templateLoader:TemplateLoader;\n  _compiling:Map<Type, Promise>;\n  _shadowDomStrategy: ShadowDomStrategy;\n  _shadowDomDirectives: List<DirectiveMetadata>;\n\n  constructor(changeDetection:ChangeDetection,\n              templateLoader:TemplateLoader,\n              reader: DirectiveMetadataReader,\n              parser:Parser,\n              cache:CompilerCache,\n              shadowDomStrategy: ShadowDomStrategy) {\n    this._changeDetection = changeDetection;\n    this._reader = reader;\n    this._parser = parser;\n    this._compilerCache = cache;\n    this._templateLoader = templateLoader;\n    this._compiling = MapWrapper.create();\n    this._shadowDomStrategy = shadowDomStrategy;\n    this._shadowDomDirectives = [];\n    var types = shadowDomStrategy.polyfillDirectives();\n    for (var i = 0; i < types.length; i++) {\n      ListWrapper.push(this._shadowDomDirectives, reader.read(types[i]));\n    }\n  }\n\n  createSteps(component:DirectiveMetadata):List<CompileStep> {\n    var directives = []\n    var cmpDirectives = ListWrapper.map(component.componentDirectives, (d) => this._reader.read(d));\n    directives = ListWrapper.concat(directives, cmpDirectives);\n    directives = ListWrapper.concat(directives, this._shadowDomDirectives);\n    return createDefaultSteps(this._changeDetection, this._parser, component, directives,\n      this._shadowDomStrategy);\n  }\n\n  compile(component:Type, templateRoot:Element = null):Promise<ProtoView> {\n    return this._compile(this._reader.read(component), templateRoot);\n  }\n\n  _compile(cmpMetadata: DirectiveMetadata, templateRoot:Element = null) {\n    var pvCached = this._compilerCache.get(cmpMetadata.type);\n    if (isPresent(pvCached)) {\n      // The component has already been compiled into a ProtoView,\n      // returns a resolved Promise.\n      return PromiseWrapper.resolve(pvCached);\n    }\n\n    var pvPromise = MapWrapper.get(this._compiling, cmpMetadata.type);\n    if (isPresent(pvPromise)) {\n      // The component is already being compiled, attach to the existing Promise\n      // instead of re-compiling the component.\n      // It happens when a template references a component multiple times.\n      return pvPromise;\n    }\n\n    var tplPromise = isBlank(templateRoot) ?\n        this._templateLoader.load(cmpMetadata) :\n        PromiseWrapper.resolve(templateRoot);\n\n    pvPromise = PromiseWrapper.then(tplPromise,\n      (el) => this._compileTemplate(el, cmpMetadata),\n      (_) => { throw new BaseException(`Failed to load the template for ${stringify(cmpMetadata.type)}`) }\n    );\n\n    MapWrapper.set(this._compiling, cmpMetadata.type, pvPromise);\n\n    return pvPromise;\n  }\n\n  _compileTemplate(template: Element, cmpMetadata): Promise<ProtoView> {\n    this._shadowDomStrategy.processTemplate(template, cmpMetadata);\n    var pipeline = new CompilePipeline(this.createSteps(cmpMetadata));\n    var compileElements = pipeline.process(template);\n    var protoView = compileElements[0].inheritedProtoView;\n\n    // Populate the cache before compiling the nested components,\n    // so that components can reference themselves in their template.\n    this._compilerCache.set(cmpMetadata.type, protoView);\n    MapWrapper.delete(this._compiling, cmpMetadata.type);\n\n    // Compile all the components from the template\n    var componentPromises = [];\n    for (var i = 0; i < compileElements.length; i++) {\n      var ce = compileElements[i];\n      if (isPresent(ce.componentDirective)) {\n        var componentPromise = this._compileNestedProtoView(ce);\n        ListWrapper.push(componentPromises, componentPromise);\n      }\n    }\n\n    // The protoView is resolved after all the components in the template have been compiled.\n    return PromiseWrapper.then(PromiseWrapper.all(componentPromises),\n      (_) => protoView,\n      (e) => { throw new BaseException(`${e} -> Failed to compile ${stringify(cmpMetadata.type)}`) }\n    );\n  }\n\n  _compileNestedProtoView(ce: CompileElement):Promise<ProtoView> {\n    var pvPromise = this._compile(ce.componentDirective);\n    pvPromise.then(function(protoView) {\n      ce.inheritedElementBinder.nestedProtoView = protoView;\n    });\n    return pvPromise;\n  }\n}\n","assert.argumentTypes($__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","assert.genericType($__placeholder__0)"]}