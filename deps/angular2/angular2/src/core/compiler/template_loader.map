{"version":3,"sources":["@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/15","template_loader.js","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/164","@traceur/generated/TemplateParser/8"],"names":[],"mappings":"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","file":"/Users/patrick/Documents/open source/angular/modules/angular2/src/core/compiler/template_loader.js","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/angular2/src/core/compiler/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","import {Promise, PromiseWrapper} from 'angular2/src/facade/async';\nimport {isBlank, isPresent, BaseException, stringify} from 'angular2/src/facade/lang';\nimport {TemplateElement, DOM, Element} from 'angular2/src/facade/dom';\nimport {StringMapWrapper} from 'angular2/src/facade/collection';\n\nimport {TemplateConfig} from 'angular2/src/core/annotations/template_config';\nimport {Component} from 'angular2/src/core/annotations/annotations';\n\nimport {DirectiveMetadata} from 'angular2/src/core/compiler/directive_metadata';\n\nimport {XHR} from './xhr/xhr';\n\n/**\n * Strategy to load component templates.\n */\nexport class TemplateLoader {\n  _xhr: XHR;\n  _cache;\n\n  constructor(xhr: XHR) {\n    this._xhr = xhr;\n    this._cache = StringMapWrapper.create();\n  }\n\n  load(cmpMetadata: DirectiveMetadata):Promise<Element> {\n    var annotation:Component = cmpMetadata.annotation;\n    var tplConfig:TemplateConfig = annotation.template;\n\n    if (isPresent(tplConfig.inline)) {\n      var template = DOM.createTemplate(tplConfig.inline);\n      return PromiseWrapper.resolve(template);\n    }\n\n    if (isPresent(tplConfig.url)) {\n      var url = tplConfig.url;\n      var promise = StringMapWrapper.get(this._cache, url);\n\n      if (isBlank(promise)) {\n        promise = this._xhr.get(url).then(function (html) {\n          var template = DOM.createTemplate(html);\n          return template;\n        });\n        StringMapWrapper.set(this._cache, url, promise);\n      }\n\n      return promise;\n    }\n\n    throw new BaseException(`No template configured for component ${stringify(cmpMetadata.type)}`);\n  }\n}\n","assert.argumentTypes($__placeholder__0)","assert.type($__placeholder__0, $__placeholder__1)","return assert.returnType(($__placeholder__0), $__placeholder__1)","assert.genericType($__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}