{"version":3,"sources":["@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/5","binding.js","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/167","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/8"],"names":[],"mappings":"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","file":"/Users/patrick/Documents/open source/angular/modules/angular2/src/di/binding.js","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/angular2/src/di/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","import {FIELD, Type, isBlank, isPresent} from 'angular2/src/facade/lang';\nimport {List, MapWrapper, ListWrapper} from 'angular2/src/facade/collection';\nimport {reflector} from 'angular2/src/reflection/reflection';\nimport {Key} from './key';\nimport {Inject, InjectLazy, InjectPromise, DependencyAnnotation} from './annotations';\nimport {NoAnnotationError} from './exceptions';\n\nexport class Dependency {\n  key:Key;\n  asPromise:boolean;\n  lazy:boolean;\n  properties:List;\n  constructor(key:Key, asPromise:boolean, lazy:boolean, properties:List) {\n    this.key = key;\n    this.asPromise = asPromise;\n    this.lazy = lazy;\n    this.properties = properties;\n  }\n}\n\nexport class Binding {\n  key:Key;\n  factory:Function;\n  dependencies:List;\n  providedAsPromise:boolean;\n\n  constructor(key:Key, factory:Function, dependencies:List, providedAsPromise:boolean) {\n    this.key = key;\n    this.factory = factory;\n    this.dependencies = dependencies;\n    this.providedAsPromise = providedAsPromise;\n  }\n}\n\nexport function bind(token):BindingBuilder {\n  return new BindingBuilder(token);\n}\n\nexport class BindingBuilder {\n  token;\n  constructor(token) {\n    this.token = token;\n  }\n\n  toClass(type:Type):Binding {\n    return new Binding(\n      Key.get(this.token),\n      reflector.factory(type),\n      _dependenciesFor(type),\n      false\n    );\n  }\n\n  toValue(value):Binding {\n    return new Binding(\n      Key.get(this.token),\n      () => value,\n      [],\n      false\n    );\n  }\n\n  toFactory(factoryFunction:Function, dependencies:List = null):Binding {\n    return new Binding(\n      Key.get(this.token),\n      factoryFunction,\n      this._constructDependencies(factoryFunction, dependencies),\n      false\n    );\n  }\n\n  toAsyncFactory(factoryFunction:Function, dependencies:List = null):Binding {\n    return new Binding(\n      Key.get(this.token),\n      factoryFunction,\n      this._constructDependencies(factoryFunction, dependencies),\n      true\n    );\n  }\n\n  _constructDependencies(factoryFunction:Function, dependencies:List) {\n    return isBlank(dependencies) ?\n      _dependenciesFor(factoryFunction) :\n      ListWrapper.map(dependencies, (t) => new Dependency(Key.get(t), false, false, []));\n  }\n}\n\nfunction _dependenciesFor(typeOrFunc):List {\n  var params = reflector.parameters(typeOrFunc);\n  if (isBlank(params)) return [];\n  if (ListWrapper.any(params, (p) => isBlank(p))) throw new NoAnnotationError(typeOrFunc);\n  return ListWrapper.map(params, (p) => _extractToken(typeOrFunc, p));\n}\n\nfunction _extractToken(typeOrFunc, annotations) {\n  var type;\n  var depProps = [];\n\n  for (var i = 0; i < annotations.length; ++i) {\n    var paramAnnotation = annotations[i];\n\n    if (paramAnnotation instanceof Type) {\n      type = paramAnnotation;\n\n    } else if (paramAnnotation instanceof Inject) {\n      return _createDependency(paramAnnotation.token, false, false, []);\n\n    } else if (paramAnnotation instanceof InjectPromise) {\n      return _createDependency(paramAnnotation.token, true, false, []);\n\n    } else if (paramAnnotation instanceof InjectLazy) {\n      return _createDependency(paramAnnotation.token, false, true, []);\n\n    } else if (paramAnnotation instanceof DependencyAnnotation) {\n      ListWrapper.push(depProps, paramAnnotation);\n    }\n  }\n\n  if (isPresent(type)) {\n    return _createDependency(type, false, false, depProps);\n  } else {\n    throw new NoAnnotationError(typeOrFunc);\n  }\n}\n\nfunction _createDependency(token, asPromise, lazy, depProps):Dependency {\n  return new Dependency(Key.get(token), asPromise, lazy, depProps);\n}\n","return assert.returnType(($__placeholder__0), $__placeholder__1)","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}