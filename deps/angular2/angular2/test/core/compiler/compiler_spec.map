{"version":3,"sources":["@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/5","compiler_spec.js","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/1000","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/167","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/31","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/164","@traceur/generated/TemplateParser/18","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/7"],"names":[],"mappings":"AAAA,KAAK,SAAS,AAAC,myBAAuC,UAAS,SAAQ;;ACAvE,AAAI,IAAA,CAAA,YAAW,8CAAoB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqB7B,SAAS,KAAG,CAAE,AAAD;AAClB,WAAO,AAAC,CAAC,UAAS,CAAG,UAAS,AAAD;AAC3B,AAAI,QAAA,CAAA,MAAK,CAAC;AAEV,eAAS,AAAC,EAAE,SAAC,AAAD,CAAM;AAChB,aAAK,EAAI,IAAI,wBAAsB,AAAC,EAAC,CAAC;MACxC,EAAC,CAAC;AAEF,aAAS,eAAa,CAAE,cAAa,AAAwD,CAAG;UAAxD,SAAO,6CAAsB,KAAG;UAAG,IAAE,6CAAa,KAAG;AC7BjG,aAAK,cAAc,gBCAnB,CAAA,MAAK,KAAK,IAAI,WF6BuC,kBAAgB,MAAe,QAAM,CC7BpD,CAAA;AD8BhC,AAAI,UAAA,CAAA,KAAI,EAAI,EAAC,GAAI,SAAO,AAAC,CAAC,cAAa,CAAC,CAAC,CAAC;AAC1C,WAAI,OAAM,AAAC,CAAC,QAAO,CAAC,CAAG;AACrB,iBAAO,EAAI,IAAI,wBAAsB,AAAC,EAAC,CAAC;QAC1C;AAAA,AACA,WAAI,OAAM,AAAC,CAAC,GAAE,CAAC,CAAG;AAChB,YAAE,EAAI,IAAI,QAAM,AAAC,EAAC,CAAC;QACrB;AAAA,AACA,aAAO,IAAI,iBAAe,AAAC,CAAC,MAAK,CAAG,MAAI,CAAG,SAAO,CAAG,IAAE,CAAC,CAAC;MAC3D;AAAA,AGtCJ,WAAK,eAAe,AAAC,8BACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,sBH4B2B,iBAAgB,IAAe,OAAM,GG5BzC;QAAC,CAAC,CAAC,CAAC;AHuCjD,OAAC,AAAC,CAAC,mEAAkE,GAAG,SAAC,IAAG;AAC1E,AAAI,UAAA,CAAA,aAAY,EAAI,IAAI,UAAQ,AAAC,CAAC,IAAG,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;AACnD,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAE,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC3D,gBAAM,mBAAmB,EAAI,cAAY,CAAC;QAC5C,EAAC,CAAC;AACF,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,CAAA,EAAC,AAAC,CAAC,aAAY,CAAC,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AACtE,eAAK,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,aAAY,CAAC,CAAC;AACrC,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,8BAA6B,GAAG,SAAC,IAAG;AACrC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,aAAY,CAAC,CAAC;AAC/B,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAE,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC3D,gBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;QACzE,EAAC,CAAC;AACF,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,QAAM,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AAC5D,eAAK,AAAC,CAAC,SAAQ,QAAQ,CAAC,KAAK,AAAC,CAAC,OAAM,CAAC,CAAC;AACvC,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,kEAAiE,GAAG,SAAC,IAAG;AACzE,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAE,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC3D,gBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;QACzE,EAAC,CAAC;AACF,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,KAAG,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AACzD,eAAK,AAAC,CAAC,GAAE,aAAa,AAAC,CAAC,SAAQ,QAAQ,CAAC,CAAC,QAAQ,AAAC,CAAC,kBAAiB,CAAC,CAAC;AACvE,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,4DAA2D,GAAG,SAAC,IAAG;AAGnE,WAAI,UAAS,CAAG;AACd,aAAG,AAAC,EAAC,CAAC;AACN,iBAAM;QACR;AAAA,AACI,UAAA,CAAA,YAAW,EAAI,qBAAmB,CAAC;AACvC,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAC,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC1D,gBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;QACzE,EAAG,IAAI,sBAAoB,AAAC,CAAC,YAAW,CAAC,CAAC,CAAC;AAC3C,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,KAAG,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AACzD,eAAK,AAAC,CAAC,GAAE,aAAa,AAAC,CAAC,SAAQ,QAAQ,CAAC,CAAC,QAAQ,AAAC,CAAC,oBAAmB,CAAC,CAAC;AACzE,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,+BAA8B,GAAG,SAAC,IAAG;AACtC,AAAI,UAAA,CAAA,MAAK,EAAI,CAAA,EAAC,AAAC,CAAC,aAAY,CAAC,CAAC;AAC9B,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAE,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC3D,gBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;AACvE,gBAAM,uBAAuB,EAAI,CAAA,OAAM,mBAAmB,YAAY,AAAC,CAAC,IAAG,CAAC,CAAC;AAC7E,aAAI,OAAM,QAAQ,IAAM,OAAK,CAAG;AAC9B,kBAAM,mBAAmB,EAAI,CAAA,MAAK,KAAK,AAAC,CAAC,eAAc,CAAC,CAAC;UAC3D;AAAA,QACF,EAAC,CAAC;AACF,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,OAAK,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AAC3D,AAAI,YAAA,CAAA,UAAS,EAAI,CAAA,SAAQ,eAAe,CAAE,CAAA,CAAC,gBAAgB,CAAC;AAC5D,eAAK,AAAC,CAAC,GAAE,aAAa,AAAC,CAAC,UAAS,QAAQ,CAAC,CAAC,QAAQ,AAAC,CAAC,kBAAiB,CAAC,CAAC;AACxE,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,kCAAiC,GAAG,SAAC,IAAG;AACzC,AAAI,UAAA,CAAA,OAAM,EAAI,CAAA,EAAC,AAAC,CAAC,aAAY,CAAC,CAAC;AAC/B,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAE,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC3D,gBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;QACzE,EAAC,CAAC;AACF,AAAI,UAAA,CAAA,cAAa,CAAC;AAClB,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,QAAM,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AAC5D,uBAAa,EAAI,UAAQ,CAAC;AAC1B,eAAO,CAAA,QAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,QAAM,CAAC,CAAC;QACjD,EAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AACtB,eAAK,AAAC,CAAC,cAAa,CAAC,KAAK,AAAC,CAAC,SAAQ,CAAC,CAAC;AACtC,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,yCAAwC,GAAG,SAAC,IAAG;AAChD,AAAI,UAAA,CAAA,eAAc,EAAI,GAAC,CAAC;AACxB,AAAI,UAAA,CAAA,MAAK,EAAI,CAAA,EAAC,AAAC,CAAC,iEAAgE,CAAC,CAAC;AAClF,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAE,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC3D,aAAI,GAAE,SAAS,AAAC,CAAC,OAAM,QAAQ,CAAG,SAAO,CAAC,CAAG;AAC3C,kBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;AACvE,kBAAM,uBAAuB,EAAI,CAAA,OAAM,mBAAmB,YAAY,AAAC,CAAC,IAAG,CAAC,CAAC;AAC7E,kBAAM,mBAAmB,EAAI,CAAA,MAAK,KAAK,AAAC,CAAC,eAAc,CAAC,CAAC;AACzD,sBAAU,KAAK,AAAC,CAAC,eAAc,CAAG,CAAA,OAAM,uBAAuB,CAAC,CAAC;UACnE;AAAA,QACF,EAAC,CAAC;AACF,eAAO,QAAQ,AAAC,CAAC,aAAY,CAAG,OAAK,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AAC3D,eAAK,AAAC,CAAC,eAAc,CAAE,CAAA,CAAC,gBAAgB,CAAC,KAAK,AAAC,CAAC,eAAc,CAAE,CAAA,CAAC,gBAAgB,CAAC,CAAC;AACnF,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,OAAC,AAAC,CAAC,mCAAkC,GAAG,SAAC,IAAG;AAC1C,AAAI,UAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAE,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC3D,gBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;AACvE,gBAAM,uBAAuB,EAAI,CAAA,OAAM,mBAAmB,YAAY,AAAC,CAAC,IAAG,CAAC,CAAC;AAC7E,gBAAM,mBAAmB,EAAI,CAAA,MAAK,KAAK,AAAC,CAAC,kBAAiB,CAAC,CAAC;QAC9D,EAAC,CAAC;AACF,eAAO,QAAQ,AAAC,CAAC,kBAAiB,CAAG,KAAG,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AAC9D,eAAK,AAAC,CAAC,SAAQ,eAAe,CAAE,CAAA,CAAC,gBAAgB,CAAC,KAAK,AAAC,CAAC,SAAQ,CAAC,CAAC;AACnE,aAAG,AAAC,EAAC,CAAC;QACR,EAAC,CAAC;MACJ,EAAC,CAAC;AAEF,aAAO,AAAC,CAAC,KAAI,GAAG,SAAC,AAAD;AACd,SAAC,AAAC,CAAC,8BAA6B,GAAG,SAAC,IAAG;AACrC,AAAI,YAAA,CAAA,GAAE,EAAI,IAAI,QAAM,AAAC,EAAC,CAAC;AACvB,YAAE,OAAO,AAAC,CAAC,SAAQ,CAAG,MAAI,CAAC,CAAC;AAE5B,AAAI,YAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAC,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM;AAC1D,kBAAM,mBAAmB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,KAAG,CAAG,KAAG,CAAC,CAAC;UACzE,EAAG,KAAG,CAAG,IAAE,CAAC,CAAC;AAEb,iBAAO,QAAQ,AAAC,CAAC,kBAAiB,CAAC,KAAK,AAAC,EAAE,SAAC,SAAQ,CAAM;AACxD,iBAAK,AAAC,CAAC,GAAE,aAAa,AAAC,CAAC,SAAQ,QAAQ,CAAC,CAAC,QAAQ,AAAC,CAAC,KAAI,CAAC,CAAC;AAC1D,eAAG,AAAC,EAAC,CAAC;UACR,EAAC,CAAC;AAEF,YAAE,MAAM,AAAC,EAAC,CAAC;QACb,EAAC,CAAC;AAEF,SAAC,AAAC,CAAC,gEAA+D,GAAG,SAAC,IAAG;AACvE,AAAI,YAAA,CAAA,GAAE,EAAI,IAAI,QAAM,AAAC,EAAC,CAAC;AACvB,YAAE,OAAO,AAAC,CAAC,SAAQ,CAAG,KAAG,CAAC,CAAC;AAE3B,AAAI,YAAA,CAAA,QAAO,EAAI,CAAA,cAAa,AAAC,EAAC,SAAC,MAAK,CAAG,CAAA,OAAM,CAAG,CAAA,OAAM,CAAM,GAAC,EAAG,KAAG,CAAG,IAAE,CAAC,CAAC;AAE1E,uBAAa,KAAK,AAAC,CAAC,QAAO,QAAQ,AAAC,CAAC,kBAAiB,CAAC,CACrD,UAAS,CAAA,CAAG;AAAE,gBAAM,mBAAiB,CAAC;UAAE,CACxC,UAAS,CAAA,CAAG;AACV,iBAAK,AAAC,CAAC,CAAA,QAAQ,CAAC,QAAQ,AAAC,CAAC,oDAAmD,CAAC,CAAC;AAC/E,eAAG,AAAC,EAAC,CAAC;UACR,CACF,CAAC;AAED,YAAE,MAAM,AAAC,EAAC,CAAC;QACb,EAAC,CAAC;MACJ,EAAC,CAAC;IACJ,CAAC,CAAC;EAEJ;AIxLQ,UAAQ,AAAC,cAAqC,CAAA;ACDtD,OAAO;AACD,UAAM,GCDZ,SAAS,IAAG,CAAG;ACAf,aAAoB,KAAG,OAAkB,CAAC;IDElC,CAFR,UAAS,IAAG;ACAZ,eAAoB,KAAG,SAAkB,CAAC;AAA1C,iBAAoB,KAAG,WAAkB,CAAC;AAA1C,SAAoB,KAAG,GAAkB,CAAC;AAA1C,aAAoB,KAAG,OAAkB,CAAC;AAA1C,gBAAoB,KAAG,UAAkB,CAAC;AAA1C,UAAoB,KAAG,IAAkB,CAAC;AAA1C,SAAoB,KAAG,GAAkB,CAAC;AAA1C,iBAAoB,KAAG,WAAkB,CAAC;IDElC,CAFR,UAAS,IAAG;ACAZ,UAAoB,KAAG,IAAkB,CAAC;AAA1C,cAAoB,KAAG,QAAkB,CAAC;AAA1C,sBAAoB,KAAG,gBAAkB,CAAC;IDElC,CAFR,UAAS,IAAG;ACAZ,WAAoB,KAAG,KAAkB,CAAC;AAA1C,kBAAoB,KAAG,YAAkB,CAAC;AAA1C,UAAoB,KAAG,IAAkB,CAAC;AAA1C,iBAAoB,KAAG,WAAkB,CAAC;IDElC,CAFR,UAAS,IAAG;ACAZ,WAAoB,KAAG,KAAkB,CAAC;AAA1C,cAAoB,KAAG,QAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,qBAAoB,KAAG,eAAkB,CAAC;IDElC,CAFR,UAAS,IAAG;ACAZ,eAAoB,KAAG,SAAkB,CAAC;AAA1C,oBAAoB,KAAG,cAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,gBAAoB,KAAG,UAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,8BAAoB,KAAG,wBAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,wBAAoB,KAAG,kBAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,gBAAoB,KAAG,UAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,qBAAoB,KAAG,eAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,qBAAoB,KAAG,eAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,kBAAoB,KAAG,YAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,qBAAoB,KAAG,eAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,qBAAoB,KAAG,eAAkB,CAAC;IDElC,CAFR,UAAS,IAAG;ACAZ,YAAoB,KAAG,MAAkB,CAAC;AAA1C,aAAoB,KAAG,OAAkB,CAAC;AAA1C,6BAAoB,KAAG,uBAAkB,CAAC;IDElC,CAFR,UAAS,IAAG;ACAZ,wBAAoB,KAAG,kBAAkB,CAAC;AAA1C,8BAAoB,KAAG,wBAAkB,CAAC;IDElC,CAFR,UAAS,IAAG,CAAG;ACAf,cAAoB,KAAG,QAAkB,CAAC;IDElC,CDDuB;AACzB,UAAM;AGFZ,2BCAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,qBTgMd,SAAM,mBAAiB,KAAG,AShMwB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,4BACkB,CAAC;MACzD,AAAC,EAAC,CDJ0B,CAAA;ALApC,WAAK,eAAe,AAAC,mCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,oBH2LzB,UAAQ,AAAC,CAAC,CACT,QAAO,CAAG,IAAI,eAAa,AAAC,CAAC,CAC3B,GAAE,CAAG,UAAQ,CACf,CAAC,CACH,CAAC,EG/LgD;QAAC,CAAC,CAAC,CAAC;AKDrD,sBCAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,gBTuMd,SAAM,cAAY,KAAG,ASvM6B,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,uBACkB,CAAC;MACzD,AAAC,EAAC,CDJ0B,CAAA;ALApC,WAAK,eAAe,AAAC,8BACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,oBHkMzB,UAAQ,AAAC,CAAC,CACT,QAAO,CAAG,IAAI,eAAa,AAAC,CAAC,CAC3B,MAAK,CAAG,mBAAiB,CAC3B,CAAC,CACH,CAAC,EGtMgD;QAAC,CAAC,CAAC,CAAC;AKDrD,wBCAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,kBT8Md,SAAM,gBAAc,KAAG,AS9M2B,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,yBACkB,CAAC;MACzD,AAAC,EAAC,CDJ0B,CAAA;ALApC,WAAK,eAAe,AAAC,gCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,oBHyMzB,UAAQ,AAAC,CAAC,CACT,QAAO,CAAG,IAAI,eAAa,AAAC,CAAC,CAC3B,MAAK,CAAG,mBAAiB,CAC3B,CAAC,CACH,CAAC,EG7MgD;QAAC,CAAC,CAAC,CAAC;AKDrD,2BCAA,SAAS,AAAD,CAAG;AACD,AAAI,UAAA,qBTsNd,SAAM,mBAAiB,KAAG,AStNwB,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,4BACkB,CAAC;MACzD,AAAC,EAAC,CDJ0B,CAAA;ALApC,WAAK,eAAe,AAAC,mCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,oBHgNzB,UAAQ,AAAC,CAAC;AACT,mBAAO,CAAG,IAAI,eAAa,AAAC,CAAC,CAC3B,MAAK,CAAG,uBAAqB,CAC/B,CAAC;AACD,mBAAO,CAAG,WAAS;AAAA,UACrB,CAAC,EGrNgD;QAAC,CAAC,CAAC,CAAC;AKDrD,yBEAA,SAAS,QAAO;AACN,AAAI,UAAA,mBVwNd,SAAM,iBAAe,CAGP,MAAK,AAAwB,CAAG,CAAA,KAAI,AAAkB,CAAG,CAAA,QAAO,AAAkB,CAC5F,CAAA,GAAE,AAAS,CAAG;AC7NlB,eAAK,cAAc,QD4NE,wBAAsB,QW5N3C,CAAA,MAAK,YAAY,AX4NmC,CAAA,IAAG,CAAE,YAAU,CAAC,AW5NhC,WX4N4C,kBAAgB,MACvF,QAAM,CC7NuB,CAAA;AD8NlC,AY9NJ,wBAAc,iBAAiB,AAAC,kBAAkB,KAAK,MZ8N7C,uBAAqB,CACrB,IAAI,eAAa,AAAC,CAAC,GAAE,CAAC,CACtB,OAAK,CACL,IAAI,OAAK,AAAC,CAAC,GAAI,MAAI,AAAC,EAAC,CAAC,CACtB,IAAI,cAAY,AAAC,EAAC,CAClB,SAAO,CYnOyD,CZmOvD;AACf,aAAG,MAAM,EAAI,MAAI,CAAC;QACpB,AUpOgD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,oBVqO5C,WAAU,CAAV,UAAY,SAAQ;AavOtB,iBAAO,CAAA,MAAK,WAAW,AAAC,CAAC,CbwOd,IAAG,MAAM,CaxOuB,CFA3C,CAAA,MAAK,YAAY,AXuOQ,CAAA,IAAG,CAAE,YAAU,CAAC,AWvOL,CEA2B,CAAA;UbyO7D,MUtOgE,SAAO,CAAC,CAAC;MACnE,AAAC,CVqNsB,QAAO,CUrNX,CFJS,CAAA;ALApC,WAAK,eAAe,AAAC,gCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,kBH2NL,uBAAsB,IW5N3C,MAAK,YAAY,AX4NmC,CAAA,IAAG,CAAE,YAAU,CAAC,AW5NhC,IX4N4C,iBAAgB,IACvF,OAAM,GG5NkC;QAAC,CAAC,CAAC,CAAC;AKDrD,iBEAA,SAAS,QAAO;AACN,AAAI,UAAA,WV2Od,SAAM,SAAO,CAEC,OAAM,CAAG;AACnB,AY/OJ,wBAAc,iBAAiB,AAAC,UAAkB,KAAK,MAAmB,CZ+O/D;AACP,aAAG,eAAe,EAAI,QAAM,CAAC;QAC/B,AUhPgD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,YVgP5C,OAAM,CAAN,UAAQ,MAAK,AAAe,CAAG,CAAA,OAAM,AAAe,CAAG,CAAA,OAAM,AAAe,CAAG;AClPjF,iBAAK,cAAc,QDkPF,eAAa,UAAW,eAAa,UAAW,eAAa,CClPxC,CAAA;ADmPlC,eAAG,eAAe,AAAC,CAAC,MAAK,CAAG,QAAM,CAAG,QAAM,CAAC,CAAC;UAC/C,MUjPgE,SAAO,CAAC,CAAC;MACnE,AAAC,CVwOc,WAAU,CUxON,CFJS,CAAA;ALApC,WAAK,eAAe,AAAC,0CACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,kBHiPT,cAAa,IAAW,cAAa,IAAW,cAAa,GGjP7B;QAAC,CAAC,CAAC,CAAC;AKDrD,8BEAA,SAAS,QAAO;AACN,AAAI,UAAA,wBVsPd,SAAM,sBAAoB,CAEZ,YAAW,AAAQ,CAAG;ACzPpC,eAAK,cAAc,caAnB,CAAA,MAAK,KAAK,QbA4B,CAAA;AD0PlC,AY1PJ,wBAAc,iBAAiB,AAAC,uBAAkB,KAAK,MAAmB,CZ0P/D;AACP,aAAG,aAAa,EAAI,aAAW,CAAC;QAClC,AU3PgD,CAAC;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,yBV4P5C,eAAc,CAAd,UAAgB,QAAO,AAAS,CAAG,CAAA,WAAU,AAAmB,CAAG;AC9PrE,iBAAK,cAAc,UD8PS,QAAM,cAAgB,kBAAgB,CC9P5B,CAAA;AD+PlC,cAAE,aAAa,AAAC,CAAC,QAAO,CAAG,CAAA,IAAG,aAAa,CAAC,CAAC;UAC/C,MU7PgE,SAAO,CAAC,CAAC;MACnE,AAAC,CVmP2B,uBAAsB,CUnP/B,CFJS,CAAA;ALApC,WAAK,eAAe,AAAC,qCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,kBWD1B,MAAK,KAAK,UXCuC;QAAC,CAAC,CAAC,CAAC;AADrD,WAAK,eAAe,AAAC,+DACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,kBH6PE,OAAM,IAAgB,iBAAgB,GG7PjB;QAAC,CAAC,CAAC,CAAC;IECtB;EAC3B,CAAA;APDI,CAAC,CAAC;AEgQV","file":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/compiler/compiler_spec.js","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/compiler/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","import {describe, beforeEach, it, expect, ddescribe, iit, el, IS_DARTIUM} from 'angular2/test_lib';\nimport {DOM, Element, TemplateElement} from 'angular2/src/facade/dom';\nimport {List, ListWrapper, Map, MapWrapper} from 'angular2/src/facade/collection';\nimport {Type, isBlank} from 'angular2/src/facade/lang';\nimport {PromiseWrapper} from 'angular2/src/facade/async';\n\nimport {Compiler, CompilerCache} from 'angular2/src/core/compiler/compiler';\nimport {ProtoView} from 'angular2/src/core/compiler/view';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {DirectiveMetadata} from 'angular2/src/core/compiler/directive_metadata';\nimport {Component} from 'angular2/src/core/annotations/annotations';\nimport {TemplateConfig} from 'angular2/src/core/annotations/template_config';\nimport {CompileElement} from 'angular2/src/core/compiler/pipeline/compile_element';\nimport {CompileStep} from 'angular2/src/core/compiler/pipeline/compile_step'\nimport {CompileControl} from 'angular2/src/core/compiler/pipeline/compile_control';\nimport {TemplateLoader} from 'angular2/src/core/compiler/template_loader';\n\nimport {Lexer, Parser, dynamicChangeDetection} from 'angular2/change_detection';\nimport {ShadowDomStrategy, NativeShadowDomStrategy} from 'angular2/src/core/compiler/shadow_dom_strategy';\nimport {XHRMock} from 'angular2/src/mock/xhr_mock';\n\nexport function main() {\n  describe('compiler', function() {\n    var reader;\n\n    beforeEach( () => {\n      reader = new DirectiveMetadataReader();\n    });\n\n    function createCompiler(processClosure, strategy:ShadowDomStrategy = null, xhr: XHRMock = null) {\n      var steps = [new MockStep(processClosure)];\n      if (isBlank(strategy)) {\n        strategy = new NativeShadowDomStrategy();\n      }\n      if (isBlank(xhr)) {\n        xhr = new XHRMock();\n      }\n      return new TestableCompiler(reader, steps, strategy, xhr);\n    }\n\n    it('should run the steps and return the ProtoView of the root element', (done) => {\n      var rootProtoView = new ProtoView(null, null, null);\n      var compiler = createCompiler( (parent, current, control) => {\n        current.inheritedProtoView = rootProtoView;\n      });\n      compiler.compile(MainComponent, el('<div></div>')).then( (protoView) => {\n        expect(protoView).toBe(rootProtoView);\n        done();\n      });\n    });\n\n    it('should use the given element', (done) => {\n      var element = el('<div></div>');\n      var compiler = createCompiler( (parent, current, control) => {\n        current.inheritedProtoView = new ProtoView(current.element, null, null);\n      });\n      compiler.compile(MainComponent, element).then( (protoView) => {\n        expect(protoView.element).toBe(element);\n        done();\n      });\n    });\n\n    it('should use the inline template if no element is given explicitly', (done) => {\n      var compiler = createCompiler( (parent, current, control) => {\n        current.inheritedProtoView = new ProtoView(current.element, null, null);\n      });\n      compiler.compile(MainComponent, null).then( (protoView) => {\n        expect(DOM.getInnerHTML(protoView.element)).toEqual('inline component');\n        done();\n      });\n    });\n\n    it('should use the shadow dom strategy to process the template', (done) => {\n      // TODO(vicb) test in Dart when the bug is fixed\n      // https://code.google.com/p/dart/issues/detail?id=18249\n      if (IS_DARTIUM) {\n        done();\n        return;\n      }\n      var templateHtml = 'processed template';\n      var compiler = createCompiler((parent, current, control) => {\n        current.inheritedProtoView = new ProtoView(current.element, null, null);\n      }, new FakeShadowDomStrategy(templateHtml));\n      compiler.compile(MainComponent, null).then( (protoView) => {\n        expect(DOM.getInnerHTML(protoView.element)).toEqual('processed template');\n        done();\n      });\n    });\n\n    it('should load nested components', (done) => {\n      var mainEl = el('<div></div>');\n      var compiler = createCompiler( (parent, current, control) => {\n        current.inheritedProtoView = new ProtoView(current.element, null, null);\n        current.inheritedElementBinder = current.inheritedProtoView.bindElement(null);\n        if (current.element === mainEl) {\n          current.componentDirective = reader.read(NestedComponent);\n        }\n      });\n      compiler.compile(MainComponent, mainEl).then( (protoView) => {\n        var nestedView = protoView.elementBinders[0].nestedProtoView;\n        expect(DOM.getInnerHTML(nestedView.element)).toEqual('nested component');\n        done();\n      });\n    });\n\n    it('should cache compiled components', (done) => {\n      var element = el('<div></div>');\n      var compiler = createCompiler( (parent, current, control) => {\n        current.inheritedProtoView = new ProtoView(current.element, null, null);\n      });\n      var firstProtoView;\n      compiler.compile(MainComponent, element).then( (protoView) => {\n        firstProtoView = protoView;\n        return compiler.compile(MainComponent, element);\n      }).then( (protoView) => {\n        expect(firstProtoView).toBe(protoView);\n        done();\n      });\n    });\n\n    it('should re-use components being compiled', (done) => {\n      var nestedElBinders = [];\n      var mainEl = el('<div><div class=\"nested\"></div><div class=\"nested\"></div></div>');\n      var compiler = createCompiler( (parent, current, control) => {\n        if (DOM.hasClass(current.element, 'nested')) {\n          current.inheritedProtoView = new ProtoView(current.element, null, null);\n          current.inheritedElementBinder = current.inheritedProtoView.bindElement(null);\n          current.componentDirective = reader.read(NestedComponent);\n          ListWrapper.push(nestedElBinders, current.inheritedElementBinder);\n        }\n      });\n      compiler.compile(MainComponent, mainEl).then( (protoView) => {\n        expect(nestedElBinders[0].nestedProtoView).toBe(nestedElBinders[1].nestedProtoView);\n        done();\n      });\n    });\n\n    it('should allow recursive components', (done) => {\n      var compiler = createCompiler( (parent, current, control) => {\n        current.inheritedProtoView = new ProtoView(current.element, null, null);\n        current.inheritedElementBinder = current.inheritedProtoView.bindElement(null);\n        current.componentDirective = reader.read(RecursiveComponent);\n      });\n      compiler.compile(RecursiveComponent, null).then( (protoView) => {\n        expect(protoView.elementBinders[0].nestedProtoView).toBe(protoView);\n        done();\n      });\n    });\n\n    describe('XHR', () => {\n      it('should load template via xhr', (done) => {\n        var xhr = new XHRMock();\n        xhr.expect('/parent', 'xhr');\n\n        var compiler = createCompiler((parent, current, control) => {\n          current.inheritedProtoView = new ProtoView(current.element, null, null);\n        }, null, xhr);\n\n        compiler.compile(XHRParentComponent).then( (protoView) => {\n          expect(DOM.getInnerHTML(protoView.element)).toEqual('xhr');\n          done();\n        });\n\n        xhr.flush();\n      });\n\n      it('should return a rejected promise when loading a template fails', (done) => {\n        var xhr = new XHRMock();\n        xhr.expect('/parent', null);\n\n        var compiler = createCompiler((parent, current, control) => {}, null, xhr);\n\n        PromiseWrapper.then(compiler.compile(XHRParentComponent),\n          function(_) { throw 'Failure expected'; },\n          function(e) {\n            expect(e.message).toEqual('Failed to load the template for XHRParentComponent');\n            done();\n          }\n        );\n\n        xhr.flush();\n      });\n    });\n  });\n\n}\n\n\n@Component({\n  template: new TemplateConfig({\n    url: '/parent'\n  })\n})\nclass XHRParentComponent {}\n\n@Component({\n  template: new TemplateConfig({\n    inline: 'inline component'\n  })\n})\nclass MainComponent {}\n\n@Component({\n  template: new TemplateConfig({\n    inline: 'nested component'\n  })\n})\nclass NestedComponent {}\n\n@Component({\n  template: new TemplateConfig({\n    inline: '<div rec-comp></div>'\n  }),\n  selector: 'rec-comp'\n})\nclass RecursiveComponent {}\n\nclass TestableCompiler extends Compiler {\n  steps:List;\n\n  constructor(reader:DirectiveMetadataReader, steps:List<CompileStep>, strategy:ShadowDomStrategy,\n    xhr: XHRMock) {\n    super(dynamicChangeDetection,\n          new TemplateLoader(xhr),\n          reader,\n          new Parser(new Lexer()),\n          new CompilerCache(),\n          strategy);\n    this.steps = steps;\n  }\n\n  createSteps(component):List<CompileStep> {\n    return this.steps;\n  }\n}\n\nclass MockStep extends CompileStep {\n  processClosure:Function;\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    this.processClosure(parent, current, control);\n  }\n}\n\nclass FakeShadowDomStrategy extends NativeShadowDomStrategy {\n  templateHtml: string;\n  constructor(templateHtml: string) {\n    super();\n    this.templateHtml = templateHtml;\n  }\n\n  processTemplate(template: Element, cmpMetadata: DirectiveMetadata) {\n    DOM.setInnerHTML(template, this.templateHtml);\n  }\n}\n","assert.argumentTypes($__placeholder__0)","assert.type.any","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","$__placeholder__0 = $__placeholder__1","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","assert.genericType($__placeholder__0)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","return assert.returnType(($__placeholder__0), $__placeholder__1)","assert.type.$__placeholder__0)"]}